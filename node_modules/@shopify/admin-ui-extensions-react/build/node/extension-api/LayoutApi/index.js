"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useLayout = useLayout;

var _react = require("react");

var _adminUiExtensions = require("@shopify/admin-ui-extensions");

var _utils = require("../utils");

function useLayout() {
  const api = (0, _utils.useExtensionApi)();

  if (!(0, _adminUiExtensions.isLayoutApi)(api)) {
    throw new Error('No layout api found');
  }

  const {
    layout: {
      initialValue,
      setOnChange
    }
  } = api;
  const [layout, setLayout] = (0, _react.useState)(initialValue);
  (0, _react.useEffect)(() => {
    setOnChange(newLayout => setLayout(newLayout));
  }, [setOnChange]);
  return layout;
}