"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useLocale = useLocale;

var _react = require("react");

var _adminUiExtensions = require("@shopify/admin-ui-extensions");

var _utils = require("../utils");

function useLocale() {
  const api = (0, _utils.useExtensionApi)();

  if (!(0, _adminUiExtensions.isLocaleApi)(api)) {
    throw new Error('No locale api found');
  }

  const {
    locale: {
      initialValue,
      setOnChange
    }
  } = api;
  const [locale, setLocale] = (0, _react.useState)(initialValue);
  (0, _react.useEffect)(() => {
    setOnChange(newLocale => setLocale(newLocale));
  }, [setOnChange]);
  return locale;
}